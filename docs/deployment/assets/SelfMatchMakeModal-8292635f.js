import{u as e,K as a,M as s,O as t,P as o,Q as r,b as n,r as l,t as i,d as c,R as m,A as d,_ as h,S as u,j as g,U as p,c as f,V as C,W as _,X as M,Y as N,Z as v,$ as b}from"./index-77b4db63.js";import{B as j}from"./Button-df935d27.js";import{M as S}from"./Modal-8e5076f0.js";import{C as w}from"./Container-652355f0.js";import{R as x}from"./Row-55a0cdb3.js";import{C as I}from"./Col-6bd4c284.js";import{F as R}from"./FormGroup-8c979e5c.js";import"./ThemeProvider-cc165be1.js";import"./setPrototypeOf-5f9718cf.js";import"./createWithBsPrefix-63fb65a8.js";import"./index-06bcf729.js";import"./divWithClassName-9a47a22b.js";const T="_selfMatchModalHeader_mb6gt_1",A="_headerText_mb6gt_8",B="_selfMatchModalBody_mb6gt_15",y="_selfMatchModalFormGroup_mb6gt_22",k="_content_mb6gt_29",E="_selfMatchModalLabel_mb6gt_33",H="_selfMatchModalDropdown_mb6gt_41",P="_dropdownOptions_mb6gt_52",F="_selfMatchModalSimulateBtn_mb6gt_56",O=()=>{const O=e(a),U=e(s),W=e(t),z=e(o),D=e(r),G=n(),[L,K]=l.useState([]),[Q,V]=l.useState([]);return l.useEffect((()=>{if(null!==localStorage.getItem("token")){new i(c).getAuthStatus().then((e=>{const{status:a}=e;if("AUTHENTICATED"===a&&null!=localStorage.getItem("token")){new m(c).getCodeRevisions().then((e=>K(e))).catch((e=>{e instanceof d&&h.error(e.message)}));new u(c).getMapRevisions().then((e=>V(e))).catch((e=>{e instanceof d&&h.error(e.message)}))}})).catch((e=>{e instanceof d&&h.error(e.message)}))}}),[O]),g(S,{show:O,centered:!0,contentClassName:k,onHide:()=>G(p(!1)),children:[g(S.Header,{className:T,children:[f(S.Title,{className:A,children:"Self Match"}),f("button",{type:"button",className:"btn-close btn-close-white","aria-label":"Close",onClick:()=>G(p(!1))})]}),f(S.Body,{className:B,children:f(w,{fluid:!0,children:g(x,{children:[f(I,{xs:12,className:y,children:g(R,{controlId:"codeCommitName",children:[f("div",{className:E,children:"Code Commit Name"}),g("select",{className:H,value:z,onChange:e=>function(e){if("Current Code"===e)G(C("Current Code")),G(_(null));else{const a=L.filter((a=>a.message===e));G(C(a[0].message)),G(_(a[0].id))}}(e.target.value),children:[f("option",{value:"Current Code",className:P,children:"Current Code"},"Current Code"),L.map((e=>f("option",{value:e.message,className:P,children:e.message},e.message)))]})]})}),g(I,{xs:12,className:y,children:[g(R,{controlId:"mapCommitName",children:[f("div",{className:E,children:"Map Commit Name"}),g("select",{className:H,value:D,onChange:e=>function(e){if("Current Map"===e)G(M("Current Map")),G(N(null));else{const a=Q.filter((a=>a.message===e));G(M(a[0].message)),G(N(a[0].id))}}(e.target.value),children:[f("option",{value:"Current Map",className:P,children:"Current Map"},"Current Map"),Q.map((e=>f("option",{value:e.message,className:P,children:e.message},e.message)))]})]}),f("div",{children:f(j,{className:F,size:"lg",onClick:function(){new v(c).createMatch({mode:b.Self,codeRevisionId:U,mapRevisionId:W}).catch((e=>{e instanceof d&&h.error(e.message)})),G(p(!1))},variant:"outline-light",children:"SIMULATE"})})]})]})})})]})};export{O as default};
